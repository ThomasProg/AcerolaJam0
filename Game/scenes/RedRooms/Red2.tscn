[gd_scene load_steps=10 format=3 uid="uid://d0s4u3hfkal83"]

[ext_resource type="TileSet" uid="uid://b01vniwyqk72x" path="res://Tilesets/whiteTileset.tres" id="1_4eurd"]
[ext_resource type="Script" path="res://scripts/room.gd" id="1_ekqhg"]
[ext_resource type="Material" uid="uid://cx0k40pas7tpk" path="res://materials/environment/M_redBackground.tres" id="1_h2fvd"]
[ext_resource type="PackedScene" uid="uid://mj6782vdo5a3" path="res://gameplayObjects/player.tscn" id="2_ode0o"]
[ext_resource type="Material" uid="uid://t48nps78p8tc" path="res://materials/environment/M_redWalls.tres" id="2_qt7a6"]
[ext_resource type="PackedScene" uid="uid://m65bkbdw7rco" path="res://gameplayObjects/enemies/red/rotatingTriangleEnemy.tscn" id="5_3gbwk"]
[ext_resource type="Environment" uid="uid://cx6i4ewgxjgog" path="res://Environments/baseEnvironment.tres" id="6_x42kh"]

[sub_resource type="QuadMesh" id="QuadMesh_6odv3"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_txwhl"]
vertices = PackedVector2Array(25304, 1428, 25394, 1428, 25338, 10633, 25304, 10548, 21304, 10636, 21304, 10548, 21784, 2548, 21784, 2088, 22124, 2408, 22124, 2728, 21804, 2728, 10764, 6228, 12364, 6228, 12364, 7188, 9944, 6708, 9944, 6408, 23704, -2092, 25415, -2092, 25411, -1432, 23704, -1932, 23404, -1432, 22424, -1932, 22424, -1292, 23404, -1272, 22924, -1272, 16364, 10640, 15224, 10641, 15224, 10088, 16364, 10088, 21004, -4792, 21004, -4312, 18764, -4312, 18764, -2232, 17324, -2232, 1456, -4236, 17324, -2072, 13624, -2072, 13624, -2232, 9164, -2232, 9164, -1912, 5964, -1912, 5964, -1272, 1644, -1272, 1644, 808, 1484, 808, 3224, 1428, 3224, 1268, 4984, 1268, 4984, 1108, 5784, 1108, 5784, 948, 6744, 948, 6444, 2248, 6744, 788, 7544, 788, 8044, 1448, 7544, 628, 8664, 628, 10744, 1448, 8664, 468, 13784, 468, 13644, 1128, 11564, 1448, 13784, 308, 14104, 308, 14104, 148, 14904, 148, 14764, 808, 14904, -12, 16184, -12, 16184, -172, 17644, -172, 17644, -12, 19384, 808, 19064, -12, 19064, -172, 19544, -172, 20044, 488, 20044, 948, 19544, -332, 20344, -332, 20344, -492, 21004, -492, 21004, -332, 22124, -332, 22124, -172, 22424, -632, 21624, -632, 21624, -1452, 22124, -1292, 22124, -1452, 22924, -972, 23084, -972, 23084, -652, 22764, 168, 22424, -172, 23404, -652, 23404, 168, 22764, 468, 22924, 468, 22924, 968, 22264, 968, 22424, 788, 22264, 788, 22424, 488, 20344, 948, 20344, 788, 20844, 788, 20844, 1268, 21644, 1268, 21644, 1588, 20824, 2088, 20824, 1768, 21964, 1588, 21964, 1748, 22284, 1748, 22284, 1908, 22444, 1908, 22444, 2408, 20184, 1768, 20184, 1448, 19224, 1448, 19384, 1108, 19224, 1108, 14764, 1128, 13644, 1448, 11564, 1748, 12044, 1748, 12044, 1908, 11704, 2088, 12204, 1908, 12204, 2068, 12684, 2068, 12684, 2228, 12664, 2888, 11704, 2388, 13644, 2228, 13644, 2388, 13964, 2388, 13964, 2708, 13784, 3528, 12664, 3188, 14764, 2708, 14764, 3188, 14604, 4008, 13964, 4648, 13784, 3828, 15084, 3188, 15084, 4008, 14604, 4308, 14764, 4308, 14764, 4648, 13964, 4948, 14124, 4948, 14124, 5288, 12204, 5288, 12204, 5588, 12364, 5588, 12364, 5768, 10284, 5768, 10284, 6068, 10764, 6068, 8184, 6228, 8684, 6408, 8684, 6728, 8204, 6728, 8024, 6388, 8024, 6228, 8984, 7028, 8984, 6868, 9624, 6868, 12684, 7828, 11864, 8328, 10584, 7528, 9624, 6708, 12684, 7188, 13164, 7828, 13164, 8148, 12664, 9128, 11864, 8628, 13964, 8148, 13964, 8628, 15084, 8628, 15084, 9108, 14264, 9608, 12664, 9428, 17644, 9288, 16984, 9108, 16984, 8628, 17944, 8628, 18604, 8808, 18604, 9108, 17944, 8308, 18744, 8308, 18744, 6868, 19724, 6868, 19724, 7028, 20024, 6568, 18744, 6568, 18744, 5428, 19724, 6228, 19064, 5428, 19064, 4948, 19864, 4948, 19724, 5768, 19864, 4788, 20184, 4788, 20184, 4628, 21004, 4628, 21004, 4788, 20524, 5128, 20184, 4328, 20184, 2708, 20984, 2708, 20844, 3528, 20984, 2388, 21484, 2388, 21484, 2548, 21804, 3528, 21144, 3988, 21144, 3828, 22124, 3828, 22124, 5128, 21304, 4328, 20824, 5588, 20824, 5428, 22124, 5428, 22124, 5768, 20524, 5588, 20024, 6228, 20024, 6068, 21484, 6068, 21484, 6248, 20844, 6248, 21144, 6708, 21144, 6548, 21484, 6548, 21484, 7368, 20684, 7368, 20844, 6708, 20684, 7668, 20844, 7668, 20844, 8168, 19404, 8168, 19404, 8468, 19564, 8468, 19564, 8808, 18764, 9108, 18764, 9288, 17644, 9588, 17804, 9588, 17804, 10088, 14104, 10088, 14104, 9908, 14264, 9908, 12504, 9608, 12504, 9428, 10584, 9128, 10584, 8948, 10744, 8948, 10744, 8788, 11384, 8788, 11384, 8628, 10424, 8328, 10424, 7828, 10584, 7828, 7544, 7528, 7544, 6548, 7704, 6548, 7704, 6388, 8184, 6068, 8344, 6068, 8344, 5908, 8824, 5908, 8824, 5748, 8984, 5748, 8984, 5428, 9144, 5428, 9144, 5268, 9304, 5268, 9304, 5108, 9464, 5108, 9464, 4948, 10904, 4948, 10904, 4788, 11224, 4788, 11224, 4628, 11384, 4628, 11384, 4308, 11864, 4308, 11864, 4148, 12024, 4148, 12024, 3988, 13624, 3988, 13624, 3828, 12504, 3528, 12504, 3188, 11544, 2888, 11544, 2388, 10584, 2088, 10584, 1748, 10744, 1748, 8044, 1748, 8204, 1748, 8204, 2248, 6444, 2568, 1644, 2568, 1644, 5588, 5484, 5588, 5484, 9268, 1431, 10652, 7724, 9268, 7724, 10647, 25433, -5142, 25431, -4792, 20844, 3988, 21304, 4788, 20024, 7028, 8204, 7028, 1484, 1428)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(3, 2, 4, 5), PackedInt32Array(6, 7, 8, 9, 10), PackedInt32Array(11, 12, 13, 14, 15), PackedInt32Array(16, 17, 18, 19), PackedInt32Array(19, 18, 20, 21), PackedInt32Array(22, 21, 20, 23, 24), PackedInt32Array(25, 26, 27, 28), PackedInt32Array(29, 30, 31), PackedInt32Array(31, 32, 33, 34), PackedInt32Array(33, 35, 36, 37), PackedInt32Array(38, 39, 40, 34), PackedInt32Array(40, 41, 42, 34), PackedInt32Array(42, 43, 44, 34), PackedInt32Array(45, 46, 47), PackedInt32Array(47, 48, 49), PackedInt32Array(49, 50, 51, 52), PackedInt32Array(51, 53, 54), PackedInt32Array(55, 54, 56, 57, 58), PackedInt32Array(57, 59, 60, 61, 62), PackedInt32Array(60, 63, 64), PackedInt32Array(64, 65, 66, 67), PackedInt32Array(66, 68, 69), PackedInt32Array(69, 70, 71, 72), PackedInt32Array(73, 74, 75, 76, 77, 78), PackedInt32Array(76, 79, 80, 77), PackedInt32Array(80, 81, 82, 83), PackedInt32Array(83, 84, 85, 77), PackedInt32Array(86, 87, 88, 89), PackedInt32Array(88, 90, 89), PackedInt32Array(86, 89, 22, 24, 91), PackedInt32Array(86, 91, 92, 93, 94, 95), PackedInt32Array(93, 96, 97, 94), PackedInt32Array(98, 99, 100, 101, 102), PackedInt32Array(101, 103, 102), PackedInt32Array(98, 102, 104, 94), PackedInt32Array(105, 106, 107, 108), PackedInt32Array(108, 109, 110, 111, 112), PackedInt32Array(110, 113, 114, 7, 111), PackedInt32Array(7, 114, 115, 116, 8), PackedInt32Array(116, 117, 118, 8), PackedInt32Array(108, 112, 119, 120, 105), PackedInt32Array(78, 105, 120, 121, 122), PackedInt32Array(121, 123, 122), PackedInt32Array(78, 122, 73), PackedInt32Array(64, 67, 124, 61, 60), PackedInt32Array(61, 125, 62), PackedInt32Array(126, 127, 128, 129), PackedInt32Array(128, 130, 131, 129), PackedInt32Array(129, 131, 132, 133, 134, 135), PackedInt32Array(133, 136, 137, 134), PackedInt32Array(134, 137, 138, 139, 140, 141), PackedInt32Array(139, 142, 143, 144, 145, 146, 140), PackedInt32Array(143, 147, 148, 144), PackedInt32Array(149, 150, 151, 145), PackedInt32Array(152, 153, 154, 155), PackedInt32Array(156, 157, 158, 159), PackedInt32Array(160, 161, 11, 15), PackedInt32Array(162, 163, 164, 165, 166, 167), PackedInt32Array(168, 169, 170), PackedInt32Array(171, 172, 173, 170, 174, 14, 13), PackedInt32Array(13, 175, 171), PackedInt32Array(172, 171, 176, 177, 178, 179), PackedInt32Array(177, 180, 181, 178), PackedInt32Array(178, 181, 182, 183, 184, 185), PackedInt32Array(186, 187, 188, 189, 190, 191), PackedInt32Array(189, 192, 193, 190), PackedInt32Array(193, 194, 195, 196), PackedInt32Array(197, 198, 199, 200), PackedInt32Array(201, 202, 203, 204), PackedInt32Array(203, 205, 206), PackedInt32Array(206, 207, 208, 209, 210), PackedInt32Array(211, 212, 213, 214), PackedInt32Array(213, 215, 216, 217), PackedInt32Array(10, 218, 214, 213, 217, 6), PackedInt32Array(219, 220, 221, 222, 223), PackedInt32Array(224, 225, 226, 227), PackedInt32Array(224, 227, 204, 228), PackedInt32Array(229, 230, 231, 232, 233), PackedInt32Array(234, 235, 236, 237), PackedInt32Array(234, 237, 238, 239), PackedInt32Array(240, 241, 242, 243), PackedInt32Array(244, 245, 246, 190), PackedInt32Array(191, 247, 248, 186), PackedInt32Array(249, 250, 251, 28), PackedInt32Array(27, 252, 253, 254), PackedInt32Array(184, 255, 256, 185), PackedInt32Array(178, 257, 258, 259), PackedInt32Array(259, 260, 261, 178), PackedInt32Array(261, 262, 179, 178), PackedInt32Array(172, 263, 264, 265), PackedInt32Array(266, 267, 268), PackedInt32Array(268, 269, 166), PackedInt32Array(162, 270, 271, 163), PackedInt32Array(163, 271, 272, 273, 15), PackedInt32Array(273, 274, 275, 15), PackedInt32Array(160, 15, 275, 276, 277, 159), PackedInt32Array(277, 278, 279, 159), PackedInt32Array(279, 280, 281, 159), PackedInt32Array(159, 281, 282, 283, 155, 156), PackedInt32Array(283, 284, 285, 155), PackedInt32Array(285, 286, 287, 155), PackedInt32Array(155, 287, 288, 289, 145, 152), PackedInt32Array(289, 290, 291, 145), PackedInt32Array(291, 292, 293, 145), PackedInt32Array(293, 294, 146, 145), PackedInt32Array(140, 295, 296, 141), PackedInt32Array(134, 297, 298, 135), PackedInt32Array(129, 299, 300, 301), PackedInt32Array(302, 303, 304, 52), PackedInt32Array(49, 52, 305, 306, 47), PackedInt32Array(307, 308, 309, 310), PackedInt32Array(309, 311, 312, 310), PackedInt32Array(313, 314, 29), PackedInt32Array(34, 313, 29), PackedInt32Array(34, 29, 31), PackedInt32Array(34, 33, 37), PackedInt32Array(34, 37, 38), PackedInt32Array(229, 233, 239, 238, 197), PackedInt32Array(85, 95, 94, 104, 77), PackedInt32Array(80, 83, 77), PackedInt32Array(74, 73, 67, 72), PackedInt32Array(69, 72, 67, 66), PackedInt32Array(211, 214, 315), PackedInt32Array(223, 211, 315, 219), PackedInt32Array(316, 223, 222), PackedInt32Array(316, 222, 210, 209), PackedInt32Array(28, 27, 254, 184, 183, 187, 186, 249), PackedInt32Array(206, 210, 228, 204, 203), PackedInt32Array(57, 62, 126, 58), PackedInt32Array(54, 55, 302, 52, 51), PackedInt32Array(129, 301, 58, 126), PackedInt32Array(317, 238, 240, 243, 193, 196), PackedInt32Array(172, 265, 173), PackedInt32Array(243, 244, 190, 193), PackedInt32Array(201, 204, 200, 199), PackedInt32Array(144, 149, 145), PackedInt32Array(318, 266, 268, 166, 165), PackedInt32Array(197, 200, 229), PackedInt32Array(317, 197, 238), PackedInt32Array(170, 173, 266, 168), PackedInt32Array(318, 168, 266), PackedInt32Array(45, 47, 306), PackedInt32Array(319, 45, 306), PackedInt32Array(310, 34, 44, 319), PackedInt32Array(307, 310, 319, 306)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1387, -4304, 25504, -5215, 25408, 10703, 1361, 10723)])
source_geometry_group_name = &"navigation_polygon_source_group"
agent_radius = 70.0

[node name="Red2" type="Node2D" node_paths=PackedStringArray("roomLimits")]
script = ExtResource("1_ekqhg")
roomLimits = NodePath("Env/RoomLimits")

[node name="Env" type="Node2D" parent="."]
position = Vector2(0, -0.000244141)
scale = Vector2(1, 1)

[node name="WorldEnvironment" type="WorldEnvironment" parent="Env"]
environment = ExtResource("6_x42kh")

[node name="RoomLimits" type="MeshInstance2D" parent="Env"]
material = ExtResource("1_h2fvd")
position = Vector2(13324.8, 2228.5)
scale = Vector2(23462.5, 13565)
mesh = SubResource("QuadMesh_6odv3")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
self_modulate = Color(1, 1, 1, 0)
position = Vector2(-114, -78)
navigation_polygon = SubResource("NavigationPolygon_txwhl")
metadata/_edit_lock_ = true

[node name="TileMap" type="TileMap" parent="NavigationRegion2D"]
material = ExtResource("2_qt7a6")
position = Vector2(114, 78)
scale = Vector2(10, 10)
tile_set = ExtResource("1_4eurd")
format = 2
layer_0/tile_data = PackedInt32Array(-1965984, 65536, 1, -1900448, 65536, 1, -1834912, 65536, 1, -1769376, 65536, 1, -1965983, 65536, 1, -1900447, 65536, 1, -1834911, 65536, 1, -1769375, 65536, 1, -1965982, 65536, 1, -1900446, 65536, 1, -1834910, 65536, 1, -1769374, 65536, 1, -1965995, 65536, 1, -1900459, 65536, 1, -1834923, 65536, 1, -1769387, 65536, 1, -1703852, 65536, 1, -1638316, 65536, 1, -1572780, 65536, 1, -1703851, 65536, 1, -1638315, 65536, 1, -1572779, 65536, 1, -1638314, 65536, 1, -1572778, 65536, 1, -1638313, 65536, 1, -1572777, 65536, 1, -1638312, 65536, 1, -1572776, 65536, 1, -1638311, 65536, 1, -1572775, 65536, 1, -1507243, 65536, 1, -1441707, 65536, 1, -1376171, 65536, 1, -1310635, 65536, 1, -1245099, 65536, 1, -1507242, 65536, 1, -1441706, 65536, 1, -1376170, 65536, 1, -1310634, 65536, 1, -1245098, 65536, 1, -1507241, 65536, 1, -1441705, 65536, 1, -1376169, 65536, 1, -1310633, 65536, 1, -1245097, 65536, 1, -1507240, 65536, 1, -1441704, 65536, 1, -1376168, 65536, 1, -1310632, 65536, 1, -1245096, 65536, 1, -1507239, 65536, 1, -1441703, 65536, 1, -1376167, 65536, 1, -1310631, 65536, 1, -1245095, 65536, 1, -1310630, 65536, 1, -1245094, 65536, 1, -1310629, 65536, 1, -1245093, 65536, 1, -1310628, 65536, 1, -1245092, 65536, 1, -1179557, 65536, 1, -1114021, 65536, 1, -1048485, 65536, 1, -1179556, 65536, 1, -1114020, 65536, 1, -1048484, 65536, 1, -1310627, 65536, 1, -1245091, 65536, 1, -1179555, 65536, 1, -1114019, 65536, 1, -1048483, 65536, 1, -1310626, 65536, 1, -1245090, 65536, 1, -1179554, 65536, 1, -1114018, 65536, 1, -1048482, 65536, 1, -1310625, 65536, 1, -1245089, 65536, 1, -1179553, 65536, 1, -1114017, 65536, 1, -1048481, 65536, 1, -1310624, 65536, 1, -1245088, 65536, 1, -1179552, 65536, 1, -1114016, 65536, 1, -1048480, 65536, 1, -1310618, 65536, 1, -1245082, 65536, 1, -1179546, 65536, 1, -1114010, 65536, 1, -1048474, 65536, 1, -1703840, 65536, 1, -1703839, 65536, 1, -1703838, 65536, 1, -1638304, 65536, 1, -1638303, 65536, 1, -1638302, 65536, 1, -1638301, 65536, 1, -1638300, 65536, 1, -1638299, 65536, 1, -1638298, 65536, 1, -1965981, 65536, 1, -1900445, 65536, 1, -1834909, 65536, 1, -1769373, 65536, 1, -1703837, 65536, 1, -1965980, 65536, 1, -1900444, 65536, 1, -1834908, 65536, 1, -1769372, 65536, 1, -1703836, 65536, 1, -1965979, 65536, 1, -1900443, 65536, 1, -1834907, 65536, 1, -1769371, 65536, 1, -1703835, 65536, 1, -1965978, 65536, 1, -1900442, 65536, 1, -1834906, 65536, 1, -1769370, 65536, 1, -1703834, 65536, 1, -1310617, 65536, 1, -1245081, 65536, 1, -1179545, 65536, 1, -1114009, 65536, 1, -1048473, 65536, 1, -1310616, 65536, 1, -1245080, 65536, 1, -1179544, 65536, 1, -1114008, 65536, 1, -1048472, 65536, 1, -1310621, 65536, 1, -1245085, 65536, 1, -1179549, 65536, 1, -1114013, 65536, 1, -1048477, 65536, 1, -1310620, 65536, 1, -1245084, 65536, 1, -1179548, 65536, 1, -1114012, 65536, 1, -1048476, 65536, 1, -1310619, 65536, 1, -1245083, 65536, 1, -1179547, 65536, 1, -1114011, 65536, 1, -1048475, 65536, 1, -1310623, 65536, 1, -1245087, 65536, 1, -1179551, 65536, 1, -1114015, 65536, 1, -1048479, 65536, 1, -1310622, 65536, 1, -1245086, 65536, 1, -1179550, 65536, 1, -1114014, 65536, 1, -1048478, 65536, 1, -982938, 65536, 1, -917402, 65536, 1, -982937, 65536, 1, -917401, 65536, 1, -982936, 65536, 1, -917400, 65536, 1, -1114007, 65536, 1, -1048471, 65536, 1, -982935, 65536, 1, -917399, 65536, 1, -1114006, 65536, 1, -1048470, 65536, 1, -982934, 65536, 1, -917398, 65536, 1, -1114005, 65536, 1, -1048469, 65536, 1, -982933, 65536, 1, -917397, 65536, 1, -1114004, 65536, 1, -1048468, 65536, 1, -982932, 65536, 1, -917396, 65536, 1, -1114003, 65536, 1, -1048467, 65536, 1, -982931, 65536, 1, -917395, 65536, 1, -1114002, 65536, 1, -1048466, 65536, 1, -982930, 65536, 1, -917394, 65536, 1, -1114001, 65536, 1, -1048465, 65536, 1, -982929, 65536, 1, -917393, 65536, 1, -1114000, 65536, 1, -1048464, 65536, 1, -982928, 65536, 1, -917392, 65536, 1, -1113999, 65536, 1, -1048463, 65536, 1, -982927, 65536, 1, -917391, 65536, 1, -1113998, 65536, 1, -1048462, 65536, 1, -982926, 65536, 1, -917390, 65536, 1, -1113997, 65536, 1, -1048461, 65536, 1, -982925, 65536, 1, -917389, 65536, 1, -851854, 65536, 1, -786318, 65536, 1, -851853, 65536, 1, -786317, 65536, 1, -917388, 65536, 1, -851852, 65536, 1, -786316, 65536, 1, -917387, 65536, 1, -851851, 65536, 1, -786315, 65536, 1, -917386, 65536, 1, -851850, 65536, 1, -786314, 65536, 1, -917385, 65536, 1, -851849, 65536, 1, -786313, 65536, 1, -917384, 65536, 1, -851848, 65536, 1, -786312, 65536, 1, -917383, 65536, 1, -851847, 65536, 1, -786311, 65536, 1, -917382, 65536, 1, -851846, 65536, 1, -786310, 65536, 1, -917381, 65536, 1, -851845, 65536, 1, -786309, 65536, 1, -917380, 65536, 1, -851844, 65536, 1, -786308, 65536, 1, -917379, 65536, 1, -851843, 65536, 1, -786307, 65536, 1)
metadata/_edit_lock_ = true

[node name="Enemies" type="Node2D" parent="."]

[node name="Player" parent="." instance=ExtResource("2_ode0o")]
position = Vector2(14057, -4123)

[node name="RotatingTriangleEnemy" parent="." instance=ExtResource("5_3gbwk")]
position = Vector2(15907, -3343)
